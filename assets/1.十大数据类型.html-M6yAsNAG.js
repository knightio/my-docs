import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,b as n,o as t}from"./app-DGSXj59V.js";const l={};function i(d,e){return t(),a("div",null,e[0]||(e[0]=[n(`<h1 id="_1-十大数据类型" tabindex="-1"><a class="header-anchor" href="#_1-十大数据类型"><span>1.十大数据类型</span></a></h1><h2 id="config" tabindex="-1"><a class="header-anchor" href="#config"><span>CONFIG</span></a></h2><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token constant">CONFIG</span> <span class="token constant">GET</span> key
<span class="token constant">CONFIG</span> <span class="token constant">SET</span> key
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="key" tabindex="-1"><a class="header-anchor" href="#key"><span>KEY</span></a></h2><p>命令不区分大小写，而key是区分大小写的</p><h3 id="操作" tabindex="-1"><a class="header-anchor" href="#操作"><span>操作</span></a></h3><ul><li><code>keys *</code></li><li><code>exist *</code></li><li><code>type key</code></li><li><code>del key</code> 删除指定的key数据</li><li><code>unlink key</code> 非阻塞删除，仅仅将keys从keyspace元数据中删除，真正的删除会在后续异步中操作。</li><li><code>ttl key</code></li><li><code>expire key 秒钟</code></li><li><code>move key dbindex [0-15]</code></li><li><code>select dbindex</code></li><li><code>dbsize</code></li><li><code>flushdb</code> 清空当前库</li><li><code>flushall</code> 清空全部库</li></ul><h2 id="十大类型" tabindex="-1"><a class="header-anchor" href="#十大类型"><span>十大类型</span></a></h2><p>帮助命令，help @类型</p><h3 id="string" tabindex="-1"><a class="header-anchor" href="#string"><span>String</span></a></h3><h4 id="set" tabindex="-1"><a class="header-anchor" href="#set"><span>SET</span></a></h4><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>SET key value <span class="token punctuation">[</span>NX <span class="token operator">|</span> XX<span class="token punctuation">]</span> <span class="token punctuation">[</span>GET<span class="token punctuation">]</span> <span class="token punctuation">[</span>EX seconds <span class="token operator">|</span> PX milliseconds <span class="token operator">|</span>
  EXAT unix-time-seconds <span class="token operator">|</span> PXAT unix-time-milliseconds <span class="token operator">|</span> KEEPTTL<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>NX</code> 键不存在的时候设置键值</li><li><code>XX</code> 键存在的时候设置键值</li><li><code>GET</code> 返回指定键原本的值，若键不存在时返回nil</li><li><code>EX seconds</code> 以秒为单位设置过期时间</li><li><code>PX milliseconds</code> 以亳秒为单位设置过期时间</li><li><code>EXAT unix-time-seconds</code>设置以秒为单位的UNIX时间戳所对应的时间为过期时间</li><li><code>PXAT unix-time-milliseconds</code> 设置以亳秒为单位的UNIX时间戳所对应的时间为过期时间</li><li><code>KEEPTTL</code> 保留设置前指定键的生存时间，不会被新值覆盖</li></ul><blockquote><p>Tip</p><hr><p><code>SET</code>命令使用<code>EX</code>、<code>PX</code>、<code>NX</code>参数，其效果等同于<code>SETEX</code>、<code>PSETEX</code>、 <code>SETNX</code>命令。根据官方文档的描述，未来版本中<code>SETEX</code>、<code>PSETEX</code>、 <code>SETNX</code>命令可能会被淘汰。</p><p><code>EXAT</code>、<code>PXAT</code>以及<code>GET</code>为Redis 6.2新增的可选参数。</p></blockquote><p><strong>返回值</strong></p><p>设置成功则返回OK，返回nil为未执行Set命令，如不满足NX，XX条件等。</p><h4 id="get" tabindex="-1"><a class="header-anchor" href="#get"><span>GET</span></a></h4><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>GET key
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>返回值</strong></p><p>返回该键原来的值，或在键不存在时nil。</p><h4 id="设置-获取多个键值" tabindex="-1"><a class="header-anchor" href="#设置-获取多个键值"><span><strong>设置/获取多个键值</strong></span></a></h4><ul><li><p><code>MSET</code></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>MSET key value <span class="token punctuation">[</span>key value<span class="token punctuation">..</span>.<span class="token punctuation">]</span>

MGET key <span class="token punctuation">[</span>key <span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>返回值</strong></p><p>总是成功，返回OK</p></li><li><p><code>MSETNX</code> 设置多个值，键不存在的时候设置键值</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>MSETNX key value <span class="token punctuation">[</span>key value<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>如果有一个值存在，则所有设置失败</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> k1 v1
0K
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> MSETNX k2 v2 k1 v3
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span>θ
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> keys *
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">&quot;k1&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><p><strong>返回值</strong></p><p>返回1和0</p><ul><li>1 所有key设置成功</li><li>0 有一个key未设置成功</li></ul></li><li><p><code>MGET</code></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>MGET key <span class="token punctuation">[</span>key <span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>返回值</strong></p><p>所有值的数组集合，key不存在返回nil</p></li></ul><h4 id="获取-设置指定区间范围内的值" tabindex="-1"><a class="header-anchor" href="#获取-设置指定区间范围内的值"><span><strong>获取/设置指定区间范围内的值</strong></span></a></h4><ul><li><p><code>GETRANGE</code> 截取</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>GETRANGE key start end
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>127.0.0.1:6379&gt; set testrange abcdefg
0K
127.0.0.1:6379&gt; get testrange
&quot;abcdefg&quot;
127.0.0.1:6379&gt; getrange testrange 25
&quot;cdef&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>SETRANGE</code> 替代</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>SETRANGE key offset value
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>127.0.0.1:6379&gt; setrange testrange 21234
(integer)7
127.0.0.1:6379&gt; get testrange
&quot;ab1234g&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="数值增减" tabindex="-1"><a class="header-anchor" href="#数值增减"><span><strong>数值增减</strong></span></a></h4><p><strong>数据才能进行加减</strong></p><ul><li><p><code>INCR</code> <code>INCRBY</code></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>INCR key

INCRBY key increment
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>127.0.0.1:6379&gt; set testnum 10
OK
127.0.0.1:6379&gt; incr testnum
(integer)11
127.0.0.1:6379&gt; incr testnum
(integer)12
127.0.0.1:6379&gt; incrby testnum 3
(integer)15
127.0.0.1:6379&gt; incrby testnum 3
(integer)18
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>INCRBYFLOAT</code></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>INCRBYFLOAT key increment
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><code>DECR</code> <code>DECRBY</code></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>DECR key

DECRBY key decrement
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>127.0.0.1:6379&gt; decr testnum
(integer)17
127.0.0.1:6379&gt; decr testnum
(integer)16
127.0.0.1:6379&gt; decrby testnum 3
(integer)13
127.0.0.1:6379&gt; decrby testnum 3
(integer)10
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="字符串长度" tabindex="-1"><a class="header-anchor" href="#字符串长度"><span>字符串长度</span></a></h4><ul><li><p><code>STRLEN</code></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>STRLEN key
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>127.0.0.1:6379&gt; set k1 100
0K
127.0.0.1:6379&gt; strlen k1
(integer)3
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="内容追加" tabindex="-1"><a class="header-anchor" href="#内容追加"><span>内容追加</span></a></h4><ul><li><p><code>APPEND</code></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>APPEND key value
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>127.0.0.1:6379&gt; strlen k1
(integer)3
127.0.0.1:6379&gt; append k1 abc
(integer)6
127.0.0.1:6379&gt; get k1
&quot;180abc&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="分布式锁" tabindex="-1"><a class="header-anchor" href="#分布式锁"><span><strong>分布式锁</strong></span></a></h4><h4 id="getset" tabindex="-1"><a class="header-anchor" href="#getset"><span><strong>getset</strong></span></a></h4><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>getset key value

<span class="token operator">==</span>

<span class="token builtin class-name">set</span> key value get
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="list" tabindex="-1"><a class="header-anchor" href="#list"><span>List</span></a></h3><p>底层实际上就是个双向链表</p><h4 id="插入" tabindex="-1"><a class="header-anchor" href="#插入"><span>插入</span></a></h4><ul><li><p><code>LPUSH</code> <code>RPUSH</code> 插入，如果key不存在，新建</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>LPUSH key element <span class="token punctuation">[</span>element <span class="token punctuation">..</span>.<span class="token punctuation">]</span>
RPUSH key element <span class="token punctuation">[</span>element <span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>返回值</strong></p><p>插入后list长度</p></li><li><p><code>LPUSHX</code> <code>RPUSHX</code> 如果key存在才插入</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>LPUSHX key element <span class="token punctuation">[</span>element <span class="token punctuation">..</span>.<span class="token punctuation">]</span>
RPUSHX key element <span class="token punctuation">[</span>element <span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>返回值</strong></p><p>插入后list长度</p></li><li><p><code>LINSERT</code> 在pivot值&lt;BEFORE | AFTER&gt;插入element</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>LINSERT key <span class="token operator">&lt;</span>BEFORE <span class="token operator">|</span> AFTER<span class="token operator">&gt;</span> pivot element
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>返回值</strong></p><ul><li>插入后list长度</li><li><strong><code>0</code></strong> if the <strong><code>key</code></strong> doesn&#39;t exist</li><li><strong><code>-1</code></strong> when the <strong><code>pivot</code></strong> wasn&#39;t found</li></ul></li></ul><h4 id="查看" tabindex="-1"><a class="header-anchor" href="#查看"><span>查看</span></a></h4><ul><li><p><code>LRANGE</code> 查看下标范围数据</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>LRANGE key start stop

eg. 
<span class="token comment">#查看全部</span>
LRANGE key <span class="token number">0</span> <span class="token parameter variable">-1</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>LINDEX</code> 返回索引下标数据</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>LINDEX key index
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><code>LLEN</code> 获取List列表中元素的个数</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>LLEN key
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><h4 id="修改" tabindex="-1"><a class="header-anchor" href="#修改"><span>修改</span></a></h4><ul><li><p><code>LSET</code> 设置下标index的值为element</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>LSET key index element
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><code>LTRIM</code> 截取下标start至stop，并赋值给key</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>LTRIM key start stop
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><h4 id="删除" tabindex="-1"><a class="header-anchor" href="#删除"><span>删除</span></a></h4><ul><li><p><code>LREM</code> 删除count个element</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>LREM key count element
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><strong><code>count &gt; 0</code></strong>: Remove elements equal to <strong><code>element</code></strong> moving from head to tail.</li><li><strong><code>count &lt; 0</code></strong>: Remove elements equal to <strong><code>element</code></strong> moving from tail to head.</li><li><strong><code>count = 0</code></strong>: Remove all elements equal to <strong><code>element</code></strong>.</li></ul></li></ul><h4 id="移动" tabindex="-1"><a class="header-anchor" href="#移动"><span>移动</span></a></h4><ul><li><p><code>RPOPLPUSH</code> 将source的一个tail元素移入destination的head</p><p>6.2.0 废弃</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>RPOPLPUSH <span class="token builtin class-name">source</span> destination
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><code>LMOVE</code></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>LMOVE <span class="token builtin class-name">source</span> destination <span class="token operator">&lt;</span>LEFT <span class="token operator">|</span> RIGHT<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>LEFT <span class="token operator">|</span> RIGHT<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>返回值</strong></p><p>the element being popped and pushed.</p></li></ul><h3 id="hash" tabindex="-1"><a class="header-anchor" href="#hash"><span>Hash</span></a></h3><h4 id="新增-修改" tabindex="-1"><a class="header-anchor" href="#新增-修改"><span>新增/修改</span></a></h4><ul><li><p><code>HSET</code></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>HSET key field value <span class="token punctuation">[</span>field value <span class="token punctuation">..</span>.<span class="token punctuation">]</span>

eg.
HSET h1 <span class="token function">id</span> <span class="token number">1</span> name zhangsan
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>返回值</strong></p><p>The number of fields that were added.</p></li><li><p><code>HSETNX</code> 如果存在才设置</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>HSETNX key field value
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>返回值</strong></p><ul><li><strong><code>1</code></strong> if <strong><code>field</code></strong> is a new field in the hash and <strong><code>value</code></strong> was set.</li><li><strong><code>0</code></strong> if <strong><code>field</code></strong> already exists in the hash and no operation was performed.</li></ul></li><li><p><code>HMSET</code></p><p>同 <code>HSET</code> ，已废弃</p></li></ul><h4 id="查看-1" tabindex="-1"><a class="header-anchor" href="#查看-1"><span>查看</span></a></h4><ul><li><p><code>HGET</code> 获取一个field</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>HGET key field
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><code>HMGET</code> 获取多个field</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>HMGET key field <span class="token punctuation">[</span>field <span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><code>HKEYS</code> 获取所有fileld键</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>HKEYS key
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><code>HVALS</code> 获取所有fileld值</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>HVALS key
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><code>HGETALL</code> 获取所有feld键值对</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>HGETALL key
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><code>HLEN</code> 获取长度</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>HLEN key
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><code>HEXISTS</code> 查看是否存在</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>HEXISTS key field
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>返回值</strong></p><ul><li><strong><code>1</code></strong> if the hash contains <strong><code>field</code></strong>.</li><li><strong><code>0</code></strong> if the hash does not contain <strong><code>field</code></strong>, or <strong><code>key</code></strong> does not exist.</li></ul></li></ul><h4 id="数值增减-1" tabindex="-1"><a class="header-anchor" href="#数值增减-1"><span>数值增减</span></a></h4><ul><li><p><code>HINCRBY</code></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>HINCRBY key field increment
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果key不存在则创建key，如果field不存在则创建field并赋值为0</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> keys *
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;tesetrange&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;testrange&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;k1&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;testnum&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hincrby h1 k1 <span class="token number">1</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hgetall h1
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;k1&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;1&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>返回值</strong></p><p>增减后的数值</p></li><li><p><code>HINCRBYFLOAT</code></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>HINCRBYFLOAT key field increment
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>类型错误（非String）、无法转换为double时会报错</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hset h1 k2 abc
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hincrbyfloat h1 k2 <span class="token number">0.5</span>
<span class="token punctuation">(</span>error<span class="token punctuation">)</span> ERR <span class="token builtin class-name">hash</span> value is not a float
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>返回值</strong></p><p>增减后的数值</p></li></ul><h3 id="set-1" tabindex="-1"><a class="header-anchor" href="#set-1"><span>Set</span></a></h3><p>无序唯一集合</p><h4 id="新增" tabindex="-1"><a class="header-anchor" href="#新增"><span>新增</span></a></h4><ul><li><p><code>SADD</code></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>SADD key member <span class="token punctuation">[</span>member <span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SADD s1 a b c a d a
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">4</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>返回值</strong></p><p>返回添加成功的数量</p></li></ul><h4 id="查看-2" tabindex="-1"><a class="header-anchor" href="#查看-2"><span>查看</span></a></h4><ul><li><p><code>SMEMBERS</code> 遍历所有元素</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>SMEMBERS key
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SMEMBERS s1
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;d&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;c&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;a&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;b&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>SISMEMBER</code> 查看是否存在</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>SISMEMBER key member
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>返回值</strong></p><ul><li><strong><code>1</code></strong> if the element is a member of the set.</li><li><strong><code>0</code></strong> if the element is not a member of the set, or if <strong><code>key</code></strong> does not exist.</li></ul></li><li><p><code>SCARD</code> 获取元素个数</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>SCARD key
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><code>SRANDMEMBER</code> 随机获取元素</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>SRANDMEMBER key <span class="token punctuation">[</span>count<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>无count时，默认一个</li></ul></li></ul><h4 id="删除-1" tabindex="-1"><a class="header-anchor" href="#删除-1"><span>删除</span></a></h4><ul><li><p><code>SREM</code> 删除</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>SREM key member <span class="token punctuation">[</span>member <span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>返回值</strong></p><p>返回删除成功的数量</p></li><li><p><code>SPOP</code> 随机获取并删除</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>SPOP key <span class="token punctuation">[</span>count<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>无count时，默认一个</li></ul><p><strong>返回值</strong></p><p>返回删除成功的元素</p></li></ul><h4 id="移动-1" tabindex="-1"><a class="header-anchor" href="#移动-1"><span>移动</span></a></h4><ul><li><p><code>SMOVE</code> 移动source的member到destination</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>SMOVE <span class="token builtin class-name">source</span> destination member
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>返回值</strong></p><ul><li><strong><code>1</code></strong> if the element is moved.</li><li><strong><code>0</code></strong> if the element is not a member of <strong><code>source</code></strong> and no operation was performed.</li></ul></li></ul><h4 id="集合运算" tabindex="-1"><a class="header-anchor" href="#集合运算"><span>集合运算</span></a></h4><ul><li><p><code>SDIFF</code> 差集</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>SDIFF key <span class="token punctuation">[</span>key <span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><code>SDIFFSTORE</code> 差集并另存</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>SDIFFSTORE destination key <span class="token punctuation">[</span>key <span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><code>SINTER</code> 交集</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>SINTER key <span class="token punctuation">[</span>key <span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><code>SINTERCARD</code> 返回交集的数量</p><p>redis7</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>SINTERCARD numkeys key <span class="token punctuation">[</span>key <span class="token punctuation">..</span>.<span class="token punctuation">]</span> <span class="token punctuation">[</span>LIMIT limit<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><code>numkeys</code> 后面key [key ...] 的数量</li></ul></li><li><p><code>SINTERSTORE</code> 交集并另存</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>SINTERSTORE destination key <span class="token punctuation">[</span>key <span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><code>SUNION</code> 并集</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>SUNION key <span class="token punctuation">[</span>key <span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><code>SINTERSTORE</code> 并集并另存</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>SUNIONSTORE destination key <span class="token punctuation">[</span>key <span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><h3 id="zset-sorted-set" tabindex="-1"><a class="header-anchor" href="#zset-sorted-set"><span>ZSet（Sorted Set）</span></a></h3><p>有序set</p><h4 id="添加-修改" tabindex="-1"><a class="header-anchor" href="#添加-修改"><span>添加/修改</span></a></h4><ul><li><p><code>ZADD</code></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>ZADD key <span class="token punctuation">[</span>NX <span class="token operator">|</span> XX<span class="token punctuation">]</span> <span class="token punctuation">[</span>GT <span class="token operator">|</span> LT<span class="token punctuation">]</span> <span class="token punctuation">[</span>CH<span class="token punctuation">]</span> <span class="token punctuation">[</span>INCR<span class="token punctuation">]</span> score member <span class="token punctuation">[</span>score member
  <span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>XX</code> 只更新不添加</li><li><code>NX</code> 只添加不更新</li><li><code>LT</code> 只当新score小于旧score时更新，如member不存在，新建</li><li><code>GT</code> 只当新score大于旧score时更新，如member不存在，新建</li><li><code>CH</code> 返回值改为修改数量</li><li><code>INCR</code> 将score加到已存在member，如果member不存在，新建</li></ul><p><strong>返回值</strong></p><p>默认返回新增member的数量，添加 <code>CH</code> 返回值为修改的member数量，添加 <code>INCR</code> 返回值为修改后的值</p><p>优先级：<code>INCR</code> &gt; <code>CH</code> &gt;默认</p></li><li><p><code>ZINCRBY</code> 增加score</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>ZINCRBY key increment member
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><h4 id="查看-3" tabindex="-1"><a class="header-anchor" href="#查看-3"><span>查看</span></a></h4><ul><li><p><code>ZRANGE</code> 查看下标范围数据，默认正序</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>ZRANGE key start stop <span class="token punctuation">[</span>BYSCORE <span class="token operator">|</span> BYLEX<span class="token punctuation">]</span> <span class="token punctuation">[</span>REV<span class="token punctuation">]</span> <span class="token punctuation">[</span>LIMIT offset count<span class="token punctuation">]</span>
  <span class="token punctuation">[</span>WITHSCORES<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>BYSCORE</code> 有此标签时，start stop 表示score范围 <ul><li>start stop 表示 start≤ score ≤ stop</li><li><code>(</code> 表示不包含</li><li><code>+inf</code> <code>-inf</code> 表示正负无穷</li></ul></li><li><code>BYLEX</code> score相同时，根据key值字典序，start stop 表示key的字典序范围 <ul><li>score优先</li><li><code>(</code>表示不包含，<code>[</code> 表示包含</li><li><code>-</code> <code>+</code> 表示字典序边界</li><li>不可与<code>WITHSCORES</code> 一起使用</li></ul></li><li><code>REV</code> 倒序</li><li><code>LIMIT offset count</code> offset 偏移量 count 数量</li><li><code>WITHSCORES</code> 数据带score</li></ul></li><li><p><code>ZREVRANGE</code> 废弃</p><p>同 <code>ZRANGE REV</code></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>ZREVRANGE key start stop <span class="token punctuation">[</span>WITHSCORES<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><code>ZRANGEBYSCORE</code>废弃</p><p>同 <code>ZRANGE BYSCORE</code></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>ZRANGEBYSCORE key min max <span class="token punctuation">[</span>WITHSCORES<span class="token punctuation">]</span> <span class="token punctuation">[</span>LIMIT offset count<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><code>ZSCORE</code> 获取member score</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>ZSCORE key member
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><code>ZCARD</code> 数量</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>ZCARD key
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><code>ZCOUNT</code> 指定score范围的数量</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>ZCOUNT key min max
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><code>ZRANK</code> 返回指定member的正序下标</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>ZRANK key member <span class="token punctuation">[</span>WITHSCORE<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><code>WITHSCORE</code> since 7.2.0</li></ul></li><li><p><code>ZREVRANK</code></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>ZREVRANK key member <span class="token punctuation">[</span>WITHSCORE<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><code>WITHSCORE</code> since 7.2.0</li></ul></li></ul><h4 id="删除-2" tabindex="-1"><a class="header-anchor" href="#删除-2"><span>删除</span></a></h4><ul><li><p><code>ZREM</code> 删除指定member</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>ZREM key member <span class="token punctuation">[</span>member <span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><code>ZMPOP</code> 弹出第一个非空key中的一个或多个元素</p><p>since 7.0.0</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>ZMPOP numkeys key <span class="token punctuation">[</span>key <span class="token punctuation">..</span>.<span class="token punctuation">]</span> <span class="token operator">&lt;</span>MIN <span class="token operator">|</span> MAX<span class="token operator">&gt;</span> <span class="token punctuation">[</span>COUNT count<span class="token punctuation">]</span>

eg.
ZMPOP <span class="token number">2</span> k1 k2 MIN COUNT <span class="token number">2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>numkeys</code> 为 key [key ...] 的数量</li><li><code>MIN</code> <code>MAX</code> 为弹出依据</li><li><code>COUNT</code> 弹出数量，默认一个</li></ul><p><strong>返回值</strong></p><p>如果存在，返回弹出member</p></li></ul><h3 id="bitmap-位图" tabindex="-1"><a class="header-anchor" href="#bitmap-位图"><span>BITMAP（位图）</span></a></h3><p>由0和1状态表现的二进制位的bit数组</p><p>用<strong>String</strong>类型作为底层数据结构实现的一种统计二值状态的数据类型</p><p>位图本质是数组，它是基于<strong>String</strong>数据类型的按位的操作。该数组由多个二进制位组成，每个二进制位都对应一个偏移量（我们称之为一个索引）。</p><p>Bitmap支持的最大位数是2<sup>32位，它可以极大的节约存储空间，使用512M内存就可以存储多达42.9亿的字节信息(2</sup>32=4294967296)</p><p>类似AtomicBoolean</p><h4 id="新增-修改-1" tabindex="-1"><a class="header-anchor" href="#新增-修改-1"><span>新增/修改</span></a></h4><ul><li><p><code>SETBIT</code> 设置下标offset位value</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>SETBIT key offset value
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>value只能为 <code>0</code> <code>1</code></p></blockquote><p><strong>返回值</strong></p><p>返回操作前的value值</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> setbit b1 <span class="token number">1</span> <span class="token number">1</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get b1
<span class="token string">&quot;@&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">type</span> b1
string
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="获取" tabindex="-1"><a class="header-anchor" href="#获取"><span>获取</span></a></h4><ul><li><p><code>GETBIT</code> 获取下标value</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>GETBIT key offset
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><code>STRLEN</code> 统计字节数占用多少 ?</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>STRLEN key
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><code>BITCOUNT</code> 统计键里面包含有1的有多少个</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>BITCOUNT key <span class="token punctuation">[</span>start end <span class="token punctuation">[</span>BYTE <span class="token operator">|</span> BIT<span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><code>BYTE</code> start end为byte下标</li><li><code>BIT</code> start end为bit下标</li></ul><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> b2 <span class="token string">&quot;hello&quot;</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> bitcount b2 <span class="token number">0</span> <span class="token parameter variable">-2</span> bit
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">20</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> bitcount b2 <span class="token number">0</span> <span class="token parameter variable">-2</span> byte
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">15</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="统计" tabindex="-1"><a class="header-anchor" href="#统计"><span>统计</span></a></h4><ul><li><p><code>BITOP</code> 将key [key ...]中数据进行计算，存入destkey</p><p>本质为二进制运算</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>BITOP <span class="token operator">&lt;</span>AND <span class="token operator">|</span> OR <span class="token operator">|</span> XOR <span class="token operator">|</span> NOT<span class="token operator">&gt;</span> destkey key <span class="token punctuation">[</span>key <span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><code>AND</code> 与</li><li><code>OR</code> 或</li><li><code>XOR</code> 异或</li><li><code>NOT</code> 非</li></ul></li></ul><h3 id="hyperloglog-基数统计" tabindex="-1"><a class="header-anchor" href="#hyperloglog-基数统计"><span><strong>HyperLogLog（基数统计）</strong></span></a></h3><p>用于统计一个集合中不重复的元素个数，就是对集合去重复后剩余元素的计算。</p><p>只存个数，不存元素</p><h4 id="添加" tabindex="-1"><a class="header-anchor" href="#添加"><span>添加</span></a></h4><ul><li><p><code>PFADD</code></p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token constant">PFADD</span> key <span class="token punctuation">[</span>element <span class="token punctuation">[</span>element <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>返回值</strong></p><ul><li><code>1</code> 如果key被修改</li><li><code>0</code> 其他</li></ul></li></ul><h4 id="查看-4" tabindex="-1"><a class="header-anchor" href="#查看-4"><span>查看</span></a></h4><ul><li><p><code>PFCOUNT</code> 返回基数的估算值</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token constant">PFCOUNT</span> key <span class="token punctuation">[</span>key <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><h4 id="合并" tabindex="-1"><a class="header-anchor" href="#合并"><span>合并</span></a></h4><ul><li><p><code>PFMERGE</code> 合并sourcekey到destkey</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token constant">PFMERGE</span> destkey <span class="token punctuation">[</span>sourcekey <span class="token punctuation">[</span>sourcekey <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><h3 id="geo-地理空间" tabindex="-1"><a class="header-anchor" href="#geo-地理空间"><span><strong>GEO（地理空间）</strong></span></a></h3><p>GEO类型实际上是ZSET，score存储经纬度</p><h4 id="添加-1" tabindex="-1"><a class="header-anchor" href="#添加-1"><span>添加</span></a></h4><ul><li><p><code>GEOADD</code></p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token constant">GEOADD</span> key <span class="token punctuation">[</span><span class="token constant">NX</span> <span class="token operator">|</span> <span class="token constant">XX</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token constant">CH</span><span class="token punctuation">]</span> longitude latitude member <span class="token punctuation">[</span>longitude
  latitude member <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> geoadd g1 <span class="token number">116.403963</span> <span class="token number">39.915119</span> beijing
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">type</span> g1
zset
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrange g1 <span class="token number">0</span> <span class="token parameter variable">-1</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;beijing&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;4069885555089531&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="查看-5" tabindex="-1"><a class="header-anchor" href="#查看-5"><span>查看</span></a></h4><ul><li><p><code>GEOPOS</code> 查看经纬度</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>GEOPOS key <span class="token punctuation">[</span>member <span class="token punctuation">[</span>member <span class="token punctuation">..</span>.<span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><code>GEODIST</code> 测距</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>GEODIST key member1 member2 <span class="token punctuation">[</span>M <span class="token operator">|</span> KM <span class="token operator">|</span> FT <span class="token operator">|</span> MI<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><code>[M | KM | FT | MI]</code><ul><li>FT 英寸</li><li>MI 英里</li></ul></li></ul></li><li><p><code>GEOSEARCH</code> 搜索指定距离内</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>GEOSEARCH key <span class="token operator">&lt;</span>FROMMEMBER member <span class="token operator">|</span> FROMLONLAT longitude latitude<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>BYRADIUS radius <span class="token operator">&lt;</span>M <span class="token operator">|</span> KM <span class="token operator">|</span> FT <span class="token operator">|</span> MI<span class="token operator">&gt;</span> <span class="token operator">|</span> BYBOX width height <span class="token operator">&lt;</span>M <span class="token operator">|</span> KM <span class="token operator">|</span>
  FT <span class="token operator">|</span> MI<span class="token operator">&gt;&gt;</span> <span class="token punctuation">[</span>ASC <span class="token operator">|</span> DESC<span class="token punctuation">]</span> <span class="token punctuation">[</span>COUNT count <span class="token punctuation">[</span>ANY<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>WITHCOORD<span class="token punctuation">]</span> <span class="token punctuation">[</span>WITHDIST<span class="token punctuation">]</span>
  <span class="token punctuation">[</span>WITHHASH<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>&lt;FROMMEMBER member | FROMLONLAT longitude latitude&gt;</code><ul><li><code>FROMMEMBER</code> 以具体地点为中心</li><li><code>FROMLONLAT</code> 以具体经纬度为中心</li></ul></li><li><code>&lt;BYRADIUS radius &lt;M | KM | FT | MI&gt; | BYBOX width height &lt;M | KM | FT | MI&gt;&gt;</code><ul><li><code>BYRADIUS</code> 搜索半径内</li><li><code>BYBOX</code> 搜索矩形范围内</li></ul></li><li><code>[ASC | DESC]</code> 排序</li><li><code>[COUNT count [ANY]]</code> 数量</li><li><code>[WITHCOORD]</code> 输出带经纬度</li><li><code>[WITHDIST]</code> 输出带距离</li><li><code>[WITHHASH]</code> 输出带哈希值</li></ul></li><li><p><code>GEOSEARCHSTORE</code> 搜索并存储</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>GEOSEARCHSTORE destination <span class="token builtin class-name">source</span> <span class="token operator">&lt;</span>FROMMEMBER member <span class="token operator">|</span>
  FROMLONLAT longitude latitude<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>BYRADIUS radius <span class="token operator">&lt;</span>M <span class="token operator">|</span> KM <span class="token operator">|</span> FT <span class="token operator">|</span> MI<span class="token operator">&gt;</span>
  <span class="token operator">|</span> BYBOX width height <span class="token operator">&lt;</span>M <span class="token operator">|</span> KM <span class="token operator">|</span> FT <span class="token operator">|</span> MI<span class="token operator">&gt;&gt;</span> <span class="token punctuation">[</span>ASC <span class="token operator">|</span> DESC<span class="token punctuation">]</span> <span class="token punctuation">[</span>COUNT count
  <span class="token punctuation">[</span>ANY<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>STOREDIST<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>destination 存储位置</p></blockquote><ul><li><p><code>[STOREDIST]</code> 存储为ZSET，score为距离</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> geosearchstore g2 g1 fromlonlat <span class="token number">116</span> <span class="token number">39</span> byradius <span class="token number">1000</span> KM storedist
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrange g2 <span class="token number">0</span> <span class="token parameter variable">-1</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;beijing&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;107.53461977441195&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p><code>GEORADIUS</code></p><p>6.2.0 废弃</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>GEORADIUS key longitude latitude radius <span class="token operator">&lt;</span>M <span class="token operator">|</span> KM <span class="token operator">|</span> FT <span class="token operator">|</span> MI<span class="token operator">&gt;</span>
  <span class="token punctuation">[</span>WITHCOORD<span class="token punctuation">]</span> <span class="token punctuation">[</span>WITHDIST<span class="token punctuation">]</span> <span class="token punctuation">[</span>WITHHASH<span class="token punctuation">]</span> <span class="token punctuation">[</span>COUNT count <span class="token punctuation">[</span>ANY<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>ASC <span class="token operator">|</span> DESC<span class="token punctuation">]</span>
  <span class="token punctuation">[</span>STORE key<span class="token punctuation">]</span> <span class="token punctuation">[</span>STOREDIST key<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>被 <code>GEOSEARCH FROMLONLAT BYRADIUS</code> 替代</p></li><li><p><code>GEORADIUSBYMEMBER</code></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>GEORADIUSBYMEMBER key member radius <span class="token operator">&lt;</span>M <span class="token operator">|</span> KM <span class="token operator">|</span> FT <span class="token operator">|</span> MI<span class="token operator">&gt;</span> <span class="token punctuation">[</span>WITHCOORD<span class="token punctuation">]</span>
  <span class="token punctuation">[</span>WITHDIST<span class="token punctuation">]</span> <span class="token punctuation">[</span>WITHHASH<span class="token punctuation">]</span> <span class="token punctuation">[</span>COUNT count <span class="token punctuation">[</span>ANY<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>ASC <span class="token operator">|</span> DESC<span class="token punctuation">]</span> <span class="token punctuation">[</span>STORE key<span class="token punctuation">]</span>
  <span class="token punctuation">[</span>STOREDIST key<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>被 <code>GEOSEARCH FROMMEMBER BYRADIUS</code> 替代</p></li><li><p><code>GEOHASH</code> 返回经纬度哈希值</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>GEOHASH key <span class="token punctuation">[</span>member <span class="token punctuation">[</span>member <span class="token punctuation">..</span>.<span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><h3 id="stream-流" tabindex="-1"><a class="header-anchor" href="#stream-流"><span>Stream（<strong>流</strong>）</span></a></h3><p>Stream流就是Redis版的MQ消息中间件+阻塞队列</p><p>实现消息队列，它支持消息的持久化、支持自动生成全局唯一ID、支持ack确认消息的模式、支持消费组模式等，让消息队列更加的稳定和可靠</p><p>队列+消费组</p><p>队列相关</p><hr><h4 id="新增-1" tabindex="-1"><a class="header-anchor" href="#新增-1"><span>新增</span></a></h4><ul><li><p><code>XADD</code> 添加消息到队列末尾</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>XADD key <span class="token punctuation">[</span>NOMKSTREAM<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>MAXLEN <span class="token operator">|</span> MINID<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token operator">=</span> <span class="token operator">|</span> ~<span class="token punctuation">]</span> threshold
  <span class="token punctuation">[</span>LIMIT count<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span>* <span class="token operator">|</span> id<span class="token operator">&gt;</span> field value <span class="token punctuation">[</span>field value <span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>NOMKSTREAM</code> 不新建stream流， no make stream</li><li><code>[&lt;MAXLEN | MINID&gt; [= | ~] threshold [LIMIT count]]</code> 限制stream流 ？？？todo <ul><li><code>MAXLEN</code></li></ul></li><li><code>&lt;* | id&gt;</code><ul><li><code>*</code> 系统自动生成id <code>&lt;millisecondsTime&gt;-&lt;sequenceNumber&gt;</code></li><li><code>id</code> 指定id</li></ul></li></ul></li></ul><h4 id="查看-6" tabindex="-1"><a class="header-anchor" href="#查看-6"><span>查看</span></a></h4><ul><li><p><code>XRANGE</code> 查看范围id内的数据</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>XRANGE key start end <span class="token punctuation">[</span>COUNT count<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><strong><code>-</code></strong>  <strong><code>+</code></strong>  表示最小、最大可能出现的id</li></ul></li><li><p><code>XREVRANGE</code> 逆序查看</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>XREVRANGE key end start <span class="token punctuation">[</span>COUNT count<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><code>XLEN</code> 查看数量</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>XLEN key
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><code>XREAD</code> 获取多个key的消息，从指定id开始</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>XREAD <span class="token punctuation">[</span>COUNT count<span class="token punctuation">]</span> <span class="token punctuation">[</span>BLOCK milliseconds<span class="token punctuation">]</span> STREAMS key <span class="token punctuation">[</span>key <span class="token punctuation">..</span>.<span class="token punctuation">]</span> <span class="token function">id</span>
  <span class="token punctuation">[</span>id <span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>STREAMS</code> 必填</p></blockquote><ul><li><code>[COUNT count]</code> 读取条数</li><li><code>[BLOCK milliseconds]</code> 是否阻塞，默认否，<code>milliseconds</code> 为<code>0</code> 时，一直阻塞 <ul><li>只有当读取到指定的消息，才会退出</li></ul></li><li><code>id</code><ul><li><code>$</code> 表特殊ID，表示以当前Stream已经存储的最大的ID作为最后一个ID，当前Stream中不存在大于当前最大ID的消息，因此此时返回nil</li><li><code>0-0</code> 代表从最小的ID开始获取Stream中的消息</li></ul></li></ul></li></ul><h4 id="修改-1" tabindex="-1"><a class="header-anchor" href="#修改-1"><span>修改</span></a></h4><ul><li><p><code>XTRIM</code> 截取 最新数据</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>XTRIM key <span class="token operator">&lt;</span>MAXLEN <span class="token operator">|</span> MINID<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token operator">=</span> <span class="token operator">|</span> ~<span class="token punctuation">]</span> threshold <span class="token punctuation">[</span>LIMIT count<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><code>MAXLEN</code> 最大长度</li><li><code>MINID</code> 最小id</li><li><code>[= | ~]</code><ul><li><code>=</code> 等于</li><li><code>~</code> ？todo</li></ul></li><li><code>LIMIT</code> ？todo</li></ul></li></ul><h4 id="删除-3" tabindex="-1"><a class="header-anchor" href="#删除-3"><span>删除</span></a></h4><ul><li><p><code>XDEL</code></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>XDEL key <span class="token function">id</span> <span class="token punctuation">[</span>id <span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><p>消费组</p><hr><h4 id="新增-修改-2" tabindex="-1"><a class="header-anchor" href="#新增-修改-2"><span>新增/修改</span></a></h4><ul><li><p><code>XGROUP CREATE</code> 创建消费组</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>XGROUP CREATE key group <span class="token operator">&lt;</span>id <span class="token operator">|</span> $<span class="token operator">&gt;</span> <span class="token punctuation">[</span>MKSTREAM<span class="token punctuation">]</span>
  <span class="token punctuation">[</span>ENTRIESREAD entries-read<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>key</code> stream名</p></blockquote><ul><li><code>&lt;id | $&gt;</code> 指定消费位置 <ul><li><code>id</code> 指定id</li><li><code>$</code> stream流中最后一个条目id</li></ul></li><li><code>[MKSTREAM]</code> key不存在，创建steam</li><li><code>[ENTRIESREAD entries-read]</code> 7.0.0 ？？？？todo</li></ul></li><li><p><code>XREADGROUP</code></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>XREADGROUP GROUP group consumer <span class="token punctuation">[</span>COUNT count<span class="token punctuation">]</span> <span class="token punctuation">[</span>BLOCK milliseconds<span class="token punctuation">]</span>
  <span class="token punctuation">[</span>NOACK<span class="token punctuation">]</span> STREAMS key <span class="token punctuation">[</span>key <span class="token punctuation">..</span>.<span class="token punctuation">]</span> <span class="token function">id</span> <span class="token punctuation">[</span>id <span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="bitfield-位域" tabindex="-1"><a class="header-anchor" href="#bitfield-位域"><span>B<strong>itfield（位域）</strong></span></a></h3><p>将一个redis字符串看作是<strong>一个由二进制位组成的数组</strong>并能对变长位宽和任意没有字节对齐的指定整型位域进行寻址和修改</p><h4 id="修改-2" tabindex="-1"><a class="header-anchor" href="#修改-2"><span>修改</span></a></h4><ul><li><p><code>BITFIELD</code></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>BITFIELD key <span class="token punctuation">[</span>GET encoding offset <span class="token operator">|</span> <span class="token punctuation">[</span>OVERFLOW <span class="token operator">&lt;</span>WRAP <span class="token operator">|</span> SAT <span class="token operator">|</span> FAIL<span class="token operator">&gt;</span><span class="token punctuation">]</span>
  <span class="token operator">&lt;</span>SET encoding offset value <span class="token operator">|</span> INCRBY encoding offset increment<span class="token operator">&gt;</span>
  <span class="token punctuation">[</span>GET encoding offset <span class="token operator">|</span> <span class="token punctuation">[</span>OVERFLOW <span class="token operator">&lt;</span>WRAP <span class="token operator">|</span> SAT <span class="token operator">|</span> FAIL<span class="token operator">&gt;</span><span class="token punctuation">]</span>
  <span class="token operator">&lt;</span>SET encoding offset value <span class="token operator">|</span> INCRBY encoding offset increment<span class="token operator">&gt;</span>
  <span class="token punctuation">..</span>.<span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>encoding 当需要有符号整数在数字前加<code>i</code> ，eg:<code>i8</code> 表示8位有符号整数 当需要无符号整数在数字前加<code>u</code> ，eg:<code>u4</code> 表示4位无符号整数</p></blockquote><ul><li><p><code>GET encoding offset</code> 获取偏移offset后指定encoding的信息</p><blockquote><p>当offset以<code>#</code> 开头时，表示指定偏移量乘以整数编码的宽度 eg. <code>GET i8 #2</code> 表示偏移 <code>2x8</code></p></blockquote></li><li><p><code>&lt;SET encoding offset value | INCRBY encoding offset increment&gt;</code></p><ul><li><code>SET encoding offset value</code></li><li><code>INCRBY encoding offset increment</code></li></ul></li><li><p><code>[OVERFLOW &lt;WRAP | SAT | FAIL&gt;]</code> 溢出控制</p><p>默认为<strong>WRAP</strong></p><ul><li><code>WRAP</code> 回绕</li><li><code>SAT</code> 上下限</li><li><code>FAIL</code> 报错</li></ul></li></ul></li></ul>`,122)]))}const p=s(l,[["render",i],["__file","1.十大数据类型.html.vue"]]),r=JSON.parse('{"path":"/dbs/redis/1.%E5%8D%81%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html","title":"十大数据类型","lang":"zh-CN","frontmatter":{"title":"十大数据类型","order":2,"description":"1.十大数据类型 CONFIG KEY 命令不区分大小写，而key是区分大小写的 操作 keys * exist * type key del key 删除指定的key数据 unlink key 非阻塞删除，仅仅将keys从keyspace元数据中删除，真正的删除会在后续异步中操作。 ttl key expire key 秒钟 move key dbi...","head":[["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/my-docs/dbs/redis/1.%E5%8D%81%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html"}],["meta",{"property":"og:site_name","content":"一切为了更好的自己"}],["meta",{"property":"og:title","content":"十大数据类型"}],["meta",{"property":"og:description","content":"1.十大数据类型 CONFIG KEY 命令不区分大小写，而key是区分大小写的 操作 keys * exist * type key del key 删除指定的key数据 unlink key 非阻塞删除，仅仅将keys从keyspace元数据中删除，真正的删除会在后续异步中操作。 ttl key expire key 秒钟 move key dbi..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-06-14T09:34:35.000Z"}],["meta",{"property":"article:author","content":"憨憨十二"}],["meta",{"property":"article:modified_time","content":"2024-06-14T09:34:35.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"十大数据类型\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-06-14T09:34:35.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"憨憨十二\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":2,"title":"CONFIG","slug":"config","link":"#config","children":[]},{"level":2,"title":"KEY","slug":"key","link":"#key","children":[{"level":3,"title":"操作","slug":"操作","link":"#操作","children":[]}]},{"level":2,"title":"十大类型","slug":"十大类型","link":"#十大类型","children":[{"level":3,"title":"String","slug":"string","link":"#string","children":[{"level":4,"title":"SET","slug":"set","link":"#set","children":[]},{"level":4,"title":"GET","slug":"get","link":"#get","children":[]},{"level":4,"title":"设置/获取多个键值","slug":"设置-获取多个键值","link":"#设置-获取多个键值","children":[]},{"level":4,"title":"获取/设置指定区间范围内的值","slug":"获取-设置指定区间范围内的值","link":"#获取-设置指定区间范围内的值","children":[]},{"level":4,"title":"数值增减","slug":"数值增减","link":"#数值增减","children":[]},{"level":4,"title":"字符串长度","slug":"字符串长度","link":"#字符串长度","children":[]},{"level":4,"title":"内容追加","slug":"内容追加","link":"#内容追加","children":[]},{"level":4,"title":"分布式锁","slug":"分布式锁","link":"#分布式锁","children":[]},{"level":4,"title":"getset","slug":"getset","link":"#getset","children":[]}]},{"level":3,"title":"List","slug":"list","link":"#list","children":[{"level":4,"title":"插入","slug":"插入","link":"#插入","children":[]},{"level":4,"title":"查看","slug":"查看","link":"#查看","children":[]},{"level":4,"title":"修改","slug":"修改","link":"#修改","children":[]},{"level":4,"title":"删除","slug":"删除","link":"#删除","children":[]},{"level":4,"title":"移动","slug":"移动","link":"#移动","children":[]}]},{"level":3,"title":"Hash","slug":"hash","link":"#hash","children":[{"level":4,"title":"新增/修改","slug":"新增-修改","link":"#新增-修改","children":[]},{"level":4,"title":"查看","slug":"查看-1","link":"#查看-1","children":[]},{"level":4,"title":"数值增减","slug":"数值增减-1","link":"#数值增减-1","children":[]}]},{"level":3,"title":"Set","slug":"set-1","link":"#set-1","children":[{"level":4,"title":"新增","slug":"新增","link":"#新增","children":[]},{"level":4,"title":"查看","slug":"查看-2","link":"#查看-2","children":[]},{"level":4,"title":"删除","slug":"删除-1","link":"#删除-1","children":[]},{"level":4,"title":"移动","slug":"移动-1","link":"#移动-1","children":[]},{"level":4,"title":"集合运算","slug":"集合运算","link":"#集合运算","children":[]}]},{"level":3,"title":"ZSet（Sorted Set）","slug":"zset-sorted-set","link":"#zset-sorted-set","children":[{"level":4,"title":"添加/修改","slug":"添加-修改","link":"#添加-修改","children":[]},{"level":4,"title":"查看","slug":"查看-3","link":"#查看-3","children":[]},{"level":4,"title":"删除","slug":"删除-2","link":"#删除-2","children":[]}]},{"level":3,"title":"BITMAP（位图）","slug":"bitmap-位图","link":"#bitmap-位图","children":[{"level":4,"title":"新增/修改","slug":"新增-修改-1","link":"#新增-修改-1","children":[]},{"level":4,"title":"获取","slug":"获取","link":"#获取","children":[]},{"level":4,"title":"统计","slug":"统计","link":"#统计","children":[]}]},{"level":3,"title":"HyperLogLog（基数统计）","slug":"hyperloglog-基数统计","link":"#hyperloglog-基数统计","children":[{"level":4,"title":"添加","slug":"添加","link":"#添加","children":[]},{"level":4,"title":"查看","slug":"查看-4","link":"#查看-4","children":[]},{"level":4,"title":"合并","slug":"合并","link":"#合并","children":[]}]},{"level":3,"title":"GEO（地理空间）","slug":"geo-地理空间","link":"#geo-地理空间","children":[{"level":4,"title":"添加","slug":"添加-1","link":"#添加-1","children":[]},{"level":4,"title":"查看","slug":"查看-5","link":"#查看-5","children":[]}]},{"level":3,"title":"Stream（流）","slug":"stream-流","link":"#stream-流","children":[{"level":4,"title":"新增","slug":"新增-1","link":"#新增-1","children":[]},{"level":4,"title":"查看","slug":"查看-6","link":"#查看-6","children":[]},{"level":4,"title":"修改","slug":"修改-1","link":"#修改-1","children":[]},{"level":4,"title":"删除","slug":"删除-3","link":"#删除-3","children":[]},{"level":4,"title":"新增/修改","slug":"新增-修改-2","link":"#新增-修改-2","children":[]}]},{"level":3,"title":"Bitfield（位域）","slug":"bitfield-位域","link":"#bitfield-位域","children":[{"level":4,"title":"修改","slug":"修改-2","link":"#修改-2","children":[]}]}]}],"git":{"createdTime":1695377321000,"updatedTime":1718357675000,"contributors":[{"name":"consen3464","email":"wangkai@consen.net","commits":1}]},"readingTime":{"minutes":12.07,"words":3621},"filePathRelative":"dbs/redis/1.十大数据类型.md","localizedDate":"2023年9月22日","autoDesc":true}');export{p as comp,r as data};
